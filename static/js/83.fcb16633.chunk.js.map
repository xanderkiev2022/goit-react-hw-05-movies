{"version":3,"file":"static/js/83.fcb16633.chunk.js","mappings":"+RAEaA,EAAQC,EAAAA,GAAAA,MAAH,iKAQLC,EAASD,EAAAA,GAAAA,OAAH,2WAeNE,EAAOF,EAAAA,GAAAA,KAAH,gD,SCrBF,SAASG,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAkBA,OACE,UAACL,EAAD,CAAMM,SAXa,SAAAC,GACnBA,EAAEC,iBACGJ,IAGLF,EAASE,EAAYK,QACrBC,QAAQC,IAAI,mBAAoBP,GAChCC,EAAe,IAChB,EAGC,WACE,SAACR,EAAD,CAAOe,KAAK,OAAOC,MAAOT,EAAaF,SAlBtB,SAAAK,GACnB,IACMO,EADYP,EAAEQ,OAAZF,MACsBG,cAC9BX,EAAeS,EAChB,KAeG,SAACf,EAAD,wBAGL,C,kCCrBc,SAASkB,IAAU,IAAD,EAC/B,GAA8BC,EAAAA,EAAAA,KAAtBC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAChB,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAY,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAClD,GAA4BtB,EAAAA,EAAAA,UAAS,IAArC,eAAOuB,EAAP,KAAeC,EAAf,KACA,GAAoCxB,EAAAA,EAAAA,UAAS,GAA7C,eAAOyB,EAAP,KAAmBC,EAAnB,KACMC,GAAWC,EAAAA,EAAAA,MAoCjB,IAtBAC,EAAAA,EAAAA,YAAU,WACHb,GACLQ,EAAU,WACX,GAAE,CAACR,KAEJa,EAAAA,EAAAA,YAAU,WACR,GAAqB,KAAjBR,EAAJ,CAEA,IAAMS,EAAS,mCAAG,WAAM7B,GAAN,qGAEyB8B,EAAAA,EAAAA,IAAkB9B,GAF3C,gBAEN+B,EAFM,EAENA,QAASC,EAFH,EAEGA,YACjBhB,EAAUe,GACVN,EAAcO,GACdT,EAAU,YALI,kDAOdjB,QAAQC,IAAR,MAPc,0DAAH,sDAWfsB,EAAUT,EAbqB,CAchC,GAAE,CAACA,EAAcJ,IAEH,aAAXM,EACF,OACE,iCACE,SAACzB,EAAD,CAAWC,SArCS,SAAAmC,GACpBA,IAAUb,IAGA,KAAVa,GAIJd,EAAgB,CAAEc,MAAOA,IACzBjB,EAAU,KAJRA,EAAU,IAKb,IA4BqB,IAAfQ,GACC,8CAEA,SAAC,KAAD,UACGT,EAAOmB,KAAI,YAAiC,IAA9BC,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YACxB,OACE,SAAC,KAAD,WACE,UAAC,KAAD,CAAYC,GAAE,kBAAaH,GAAMI,MAAOb,EAAxC,WACE,SAAC,KAAD,CAAKc,IAAKH,EAAW,yCAAqCA,EAArC,KAAsDI,EAAWC,IAAKN,KAC3F,SAAC,KAAD,UAAQA,GAAgB,sBAF6BD,IADvCA,EAOrB,QAMZ,C","sources":["components/SearchBox/SearchBox.styled.jsx","components/SearchBox/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Input = styled.input`\n  max-width: 200px;\n  border: var(--border);\n  border-radius: 4px;\n  background-color: #2c2d31;\n  color: var(--primary-text-color);\n`;\n\nexport const Button = styled.button`\n  margin-left: 10px;\n  padding: 5px 15px;\n  background-color: var(--accent-color);\n  color: var(--primary-text-color);\n  border: var(--border);\n  border-radius: 4px;\n  font-weight: 700;\n  transition: background-color var(--animation-timing-function);\n  &:hover,\n  &:focus {\n    background-color: var(--accent-color-hover);\n  }\n`;\n\nexport const Form = styled.form`\n  margin-bottom: 15px;\n`;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Input, Button } from './SearchBox.styled';\n\nexport default function SearchBox({ onChange }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleChange = e => {\n    const { value } = e.target;\n    const normalizedValue = value.toLowerCase();\n    setSearchQuery(normalizedValue);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!searchQuery) {\n      return;\n    }\n    onChange(searchQuery.trim());\n    console.log('searchQuery :>> ', searchQuery);\n    setSearchQuery('');\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input type=\"text\" value={searchQuery} onChange={handleChange} />\n      <Button> Search</Button>\n    </Form>\n  );\n}\n\nSearchBox.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import { useLocation, useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchMoviesbyName } from 'service/moviesApi';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport { Gallery, GalleryItem, Img, LinkStyled, Title } from './Home.styled';\nimport { useContextHook } from 'components/Context';\nimport noPicture from '../images/no_picture.jpg';\n\nexport default function Movies() {\n  const { movies, setMovies } = useContextHook();\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const currentQuery = searchParams.get('query') ?? '';\n  const [status, setStatus] = useState('');\n  const [totalPages, setTotalPages] = useState(1);\n  const location = useLocation();\n\n  const updateQueryString = query => {\n    if (query === currentQuery) {\n      return;\n    }\n    if (query === '') {\n      setMovies([]);\n      return;\n    }\n    setSearchParams({ query: query });\n    setMovies([]);\n  };\n\n  useEffect(() => {\n    if (!movies) return;\n    setStatus('resolved');\n  }, [movies]);\n\n  useEffect(() => {\n    if (currentQuery === '') return;\n\n    const getMovies = async searchQuery => {\n      try {\n        const { results, total_pages } = await fetchMoviesbyName(searchQuery);\n        setMovies(results);\n        setTotalPages(total_pages);\n        setStatus('resolved');\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getMovies(currentQuery);\n  }, [currentQuery, setMovies]);\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <SearchBox onChange={updateQueryString} />\n        {totalPages === 0 ? (\n          <h2>No results found</h2>\n        ) : (\n          <Gallery>\n            {movies.map(({ id, title, poster_path }) => {\n              return (\n                <GalleryItem key={id}>\n                  <LinkStyled to={`/movies/${id}`} state={location} key={id}>\n                    <Img src={poster_path ? `https://image.tmdb.org/t/p/w300${poster_path} ` : noPicture} alt={title} />\n                    <Title>{title ? title : ' No information'}</Title>\n                  </LinkStyled>\n                </GalleryItem>\n              );\n            })}\n          </Gallery>\n        )}\n      </>\n    );\n  }\n}\n"],"names":["Input","styled","Button","Form","SearchBox","onChange","useState","searchQuery","setSearchQuery","onSubmit","e","preventDefault","trim","console","log","type","value","normalizedValue","target","toLowerCase","Movies","useContextHook","movies","setMovies","useSearchParams","searchParams","setSearchParams","currentQuery","get","status","setStatus","totalPages","setTotalPages","location","useLocation","useEffect","getMovies","fetchMoviesbyName","results","total_pages","query","map","id","title","poster_path","to","state","src","noPicture","alt"],"sourceRoot":""}